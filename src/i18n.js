const SUPPORTED_LOCALES = ['ko', 'en'];

const translations = {
  ko: {
    'common.languageLabel': '언어',
    'common.languageKorean': '한국어',
    'common.languageEnglish': 'English',
    'common.copy': '복사',
    'common.copySuccess': '클립보드에 복사했습니다.',
    'common.copyFail': '복사에 실패했습니다. 브라우저 권한을 확인하세요.',
    'common.clear': '지우기',
    'common.sample': '샘플',
    'common.back': '← 도구 목록으로',
    'common.shareState': '상태 공유 링크',
    'common.snippetTitle': 'CLI · 코드 스니펫',
    'common.snippetSubtitle': 'Node.js · shell',
    'common.footerHome': '© 2025 stateless tools · Cloudflare Pages 배포용 정적 사이트',
    'common.footerBase64':
      '© 2025 stateless tools · 모든 변환은 브라우저에서만 처리되며 파일/쿠키를 서버로 전송하지 않습니다.',
    'common.footerUuid': '© 2025 stateless tools · Cloudflare Pages 배포용 정적 사이트',
    'common.footerJson': '© 2025 stateless tools · JSON 처리는 브라우저 메모리에서만 수행됩니다.',
    'common.yes': '예',
    'common.no': '아니요',
    'home.eyebrow': 'stateless dev tools',
    'home.title': '브라우저 네이티브 유틸 모음',
    'home.description': '터미널 대신 탭 하나로 디버깅하세요. 모든 변환은 클라이언트 메모리에서만 실행됩니다.',
    'home.card.uuid.title': 'UUID 변환기',
    'home.card.uuid.desc': '랜덤 UUID 생성, hex(binary16) 변환 및 복구 기능 제공.',
    'home.card.base64.title': 'Base64 인코더',
    'home.card.base64.desc': '문자열↔Base64, URL-safe, 공백 제거 옵션까지 한번에.',
    'home.card.json.title': 'JSON Viewer',
    'home.card.json.desc': 'JSON을 즉시 검증하고 포맷/압축/복사하는 개발자용 뷰어.',
    'home.card.jwt.title': 'JWT Inspector',
    'home.card.jwt.desc': '헤더·페이로드와 만료 정보를 한 번에 확인하세요.',
    'home.card.url.title': 'URL 인코더',
    'home.card.url.desc': '인코딩/디코딩과 쿼리 파라미터 파싱 지원.',
    'home.card.hash.title': '해시 계산기',
    'home.card.hash.desc': 'SHA 계열 해시를 브라우저에서 안전하게 계산.',
    'home.card.cron.title': 'Cron 계산기',
    'home.card.cron.desc': 'Cron 식을 해석하고 다음 실행 시간을 미리 확인하세요.',
    'home.card.timestamp.title': 'Unix 타임스탬프',
    'home.card.timestamp.desc': 'Unix 시간(초/밀리초)과 날짜를 상호 변환하고 현재 시간을 확인하세요.',
    'home.card.password.title': '비밀번호 생성기',
    'home.card.password.desc': '길이/문자셋 옵션으로 보안 비밀번호를 생성하고 강도를 확인하세요.',
    'home.card.regex.title': 'Regex Tester',
    'home.card.regex.desc': '정규식 패턴과 플래그를 테스트하고 매치 결과를 확인하세요.',
    'home.card.qr.title': 'QR 생성기/스캐너',
    'home.card.qr.desc': '텍스트/Wi-Fi QR 생성과 이미지 QR 스캔.',
    'home.card.diff.title': '텍스트 Diff',
    'home.card.diff.desc': '원본/수정본 라인 비교와 unified diff 출력.',
    'home.card.color.title': '색상 도구',
    'home.card.color.desc': 'HEX/RGB/HSL 변환과 대비 비율 체크.',
    'home.card.markdown.title': 'Markdown 미리보기',
    'home.card.markdown.desc': 'Markdown 렌더링과 HTML 추출.',
    'home.card.convert.title': '단위 변환기',
    'home.card.convert.desc': '길이/무게/온도 단위 빠른 변환.',
    'home.card.filehash.title': '파일 해시 계산기',
    'home.card.filehash.desc': '브라우저에서 SHA 해시 계산.',
    'home.card.imagebase64.title': '이미지 Base64 변환',
    'home.card.imagebase64.desc': '이미지 파일을 data URL로 변환/복원.',
    'home.card.uuidv7.title': 'UUID v7 생성기',
    'home.card.uuidv7.desc': '시간순 정렬 가능한 UUID v7 생성.',
    'home.card.case.title': '텍스트 케이스 변환기',
    'home.card.case.desc': 'camel/snake/kebab/pascal 케이스 변환.',
    'home.card.jsonyaml.title': 'JSON ↔ YAML 변환',
    'home.card.jsonyaml.desc': 'JSON↔YAML, CSV↔JSON 변환.',
    'home.card.query.title': 'URL 쿼리 빌더',
    'home.card.query.desc': '키/값으로 쿼리 스트링 생성.',
    'home.card.ipua.title': 'IP / User-Agent 확인',
    'home.card.ipua.desc': 'IP, UA, 언어/타임존 빠른 점검.',
    'home.card.textstats.title': '텍스트 통계',
    'home.card.textstats.desc': '문자 수, 단어 수, 줄 수 및 예상 읽기 시간을 계산.',
    'home.card.ipcidr.title': 'IP/CIDR 계산기',
    'home.card.ipcidr.desc': 'IPv4 네트워크/브로드캐스트/호스트 범위를 바로 계산.',
    'home.card.pdf.title': 'PDF 툴킷',
    'home.card.pdf.desc': 'PDF 병합, 분할, 워터마크, 메타데이터 조회, 텍스트 추출.',
    'timestamp.title': 'Unix 타임스탬프 변환기',
    'timestamp.description': 'Unix 타임스탬프와 날짜를 상호 변환하고 현재 시간을 실시간으로 확인하세요.',
    'timestamp.current.title': '현재 시간',
    'timestamp.current.unix': 'Unix 타임스탬프 (초)',
    'timestamp.current.iso': 'ISO 8601',
    'timestamp.current.stop': '업데이트 중지',
    'timestamp.current.start': '업데이트 시작',
    'timestamp.convert.title': '변환기',
    'timestamp.input.label': 'Unix 타임스탬프',
    'timestamp.input.current': '현재 시간 입력',
    'timestamp.unit.seconds': '초 (Seconds)',
    'timestamp.unit.millis': '밀리초 (ms)',
    'timestamp.output.local': '로컬 시간',
    'timestamp.output.iso': 'ISO / UTC',
    'timestamp.output.relative': '상대 시간',
    'timestamp.reverse.title': '날짜 → 타임스탬프',
    'timestamp.reverse.button': '변환',
    'base64.title': 'Base64 인코더',
    'base64.description': '텍스트와 Base64 사이를 즉시 변환하고 URL-safe/공백 제거 옵션을 적용하세요.',
    'base64.encode.title': '문자열 → Base64',
    'base64.encode.input': '문자열 입력',
    'base64.encode.placeholder': '예: 안녕하세요',
    'base64.encode.urlSafe': 'URL-safe 변환',
    'base64.encode.button': '인코딩',
    'base64.encode.result': 'Base64 결과',
    'base64.decode.title': 'Base64 → 문자열',
    'base64.decode.input': 'Base64 입력',
    'base64.decode.placeholder': '예: 7JWI64WV7ZWY7IS47JqU',
    'base64.decode.strip': '공백 제거',
    'base64.decode.urlSafe': 'URL-safe 복구',
    'base64.decode.button': '디코딩',
    'base64.decode.result': '문자열 결과',
    'base64.file.title': '파일 ↔ Base64',
    'base64.file.helper': '파일을 선택하면 즉시 Base64로 변환됩니다.',
    'base64.file.downloadPlaceholder': 'decoded.bin',
    'base64.file.downloadBtn': 'Base64 → 파일 저장',
    'uuid.title': 'UUID 변환기',
    'uuid.description': 'crypto.randomUUID() 기반 랜덤 생성과 hex(binary16) 상호 변환을 제공합니다.',
    'uuid.random.label': '랜덤 UUID',
    'uuid.random.button': '새로 생성',
    'uuid.random.mode': '생성 옵션',
    'uuid.random.v4': 'UUID v4',
    'uuid.random.ulid': 'ULID (가독성)',
    'uuid.toHex.title': 'UUID → Hex(binary16)',
    'uuid.toHex.input': 'UUID 입력',
    'uuid.toHex.placeholder': 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx',
    'uuid.toHex.button': '변환',
    'uuid.toHex.output': 'Hex 결과',
    'uuid.toUuid.title': 'Hex(binary16) → UUID',
    'uuid.toUuid.input': 'Hex 입력 (32자리)',
    'uuid.toUuid.placeholder': '32자리 16진수',
    'uuid.toUuid.button': '복구',
    'uuid.toUuid.output': 'UUID 결과',
    'uuid.bulk.title': '대량 생성',
    'uuid.bulk.count': '개수',
    'uuid.bulk.button': '생성',
    'json.title': 'JSON Viewer',
    'json.description': '실행 중인 서비스 설정을 점검하듯 JSON을 검증하고, 포맷/압축/복사하세요.',
    'json.input': '입력 JSON',
    'json.placeholder': '{"hello":"world"}',
    'json.format': '포맷',
    'json.minify': '압축',
    'json.output': '출력',
    'json.searchLabel': '키/값 검색',
    'json.searchPlaceholder': 'user.id',
    'json.highlightTitle': '하이라이트',
    'json.treeTitle': '트리 뷰',
    'json.treeCollapse': '모두 접기',
    'json.treeNode.array': '배열',
    'json.treeNode.object': '객체',
    'json.meta.empty': '입력 없음',
    'messages.base64.encodeSuccess': '문자열을 Base64로 인코딩했습니다.',
    'messages.base64.encodeError': '인코딩 중 오류가 발생했습니다.',
    'messages.base64.decodeSuccess': 'Base64를 문자열로 디코딩했습니다.',
    'messages.base64.decodeError': '디코딩 중 오류가 발생했습니다. 입력을 확인하세요.',
    'messages.base64.fileEncoded': '{name} 파일을 Base64로 변환했습니다.',
    'messages.base64.fileDecoded': 'Base64를 파일로 내보냈습니다.',
    'messages.base64.fileError': '파일 변환에 실패했습니다.',
    'messages.uuid.randomGenerated': '새 UUID를 생성했습니다.',
    'messages.uuid.toHexSuccess': 'UUID를 hex(binary16)으로 변환했습니다.',
    'messages.uuid.toHexError': 'UUID 형식이 올바르지 않습니다.',
    'messages.uuid.toUuidSuccess': 'hex(binary16)을 UUID로 복구했습니다.',
    'messages.uuid.toUuidError': 'Hex(binary16)은 32자리 16진수여야 합니다.',
    'messages.uuid.bulkGenerated': '{count}개의 식별자를 생성했습니다.',
    'messages.json.empty': 'JSON 입력이 비었습니다.',
    'messages.json.pretty': 'JSON을 보기 좋게 정렬했습니다.',
    'messages.json.compact': 'JSON을 압축했습니다.',
    'messages.json.error': 'JSON 파싱 실패: {message}',
    'messages.json.cleared': '입력을 초기화했습니다.',
    'messages.json.sample': '샘플 JSON을 불러왔습니다.',
    'json.meta.array': '배열 · {count} items',
    'json.meta.object': '객체 · {count} keys ({examples})',
    'json.meta.primitive': '프리미티브 · {type}',
    'jwt.title': 'JWT Inspector',
    'jwt.description': 'JWT 헤더·페이로드 확인, exp/nbf 점검, JWKS 기반 서명 검증을 지원합니다.',
    'jwt.input': 'JWT 토큰',
    'jwt.placeholder': 'eyJhbGciOi...',
    'jwt.action.decode': '디코드',
    'jwt.output.header': '헤더',
    'jwt.output.payload': '페이로드',
    'jwt.success': 'JWT를 디코드했습니다.',
    'jwt.error.empty': 'JWT 값을 입력하세요.',
    'jwt.error.format': 'JWT 형식이 올바르지 않습니다.',
    'jwt.error.decode': 'JWT 디코딩에 실패했습니다.',
    'jwt.meta.expires': '만료: {date}',
    'jwt.meta.expired': '만료됨: {date}',
    'jwt.meta.nbfActive': 'nbf 통과: {date}',
    'jwt.meta.nbfPending': 'nbf 대기: {date}',
    'cron.title': 'Cron 계산기',
    'cron.description': 'Cron 표현식을 해석하고 다음 실행 시간을 미리 확인하세요.',
    'cron.input': 'Cron 표현식',
    'cron.nextRuns': '다음 실행 시간 (5회)',
    'cron.empty': 'Cron 표현식을 입력하세요. 예: */5 * * * *',
    'cron.error.invalid': '유효하지 않은 Cron 표현식입니다.',
    'cron.error.details': '오류 상세: {message}',
    'url.title': 'URL 인코더',
    'url.description': 'RFC3986 기반 인코딩/디코딩과 쿼리 파라미터 분석 지원.',
    'url.input': '원본 문자열/URL',
    'url.placeholder': 'https://example.com?q=안녕하세요',
    'url.encode': '인코딩',
    'url.decode': '디코딩',
    'url.output': '결과',
    'url.outputHelper': '복사하거나 파라미터 테이블을 확인하세요.',
    'url.paramsTitle': '쿼리 파라미터',
    'url.paramsEmpty': '표시할 파라미터가 없습니다.',
    'url.success.encode': 'URL을 인코딩했습니다.',
    'url.success.decode': 'URL을 디코딩했습니다.',
    'url.error.empty': '값을 입력하세요.',
    'url.error.encode': '인코딩에 실패했습니다.',
    'url.error.decode': '디코딩에 실패했습니다.',
    'hash.title': '해시 계산기',
    'hash.description': 'SHA-1/256/384/512 해시를 WebCrypto로 계산합니다.',
    'hash.input': '입력 문자열',
    'hash.placeholder': 'stateless tools',
    'hash.algorithm': '알고리즘',
    'hash.uppercase': 'HEX 대문자 출력',
    'hash.compute': '해시 계산',
    'hash.hex': 'HEX',
    'hash.base64': 'Base64',
    'hash.error.empty': '입력 문자열이 필요합니다.',
    'hash.error.unsupported': '이 브라우저에서 해시 계산을 완료할 수 없습니다.',
    'hash.success': '{algorithm} 해시를 계산했습니다.',
    'password.title': '비밀번호 생성기',
    'password.description': '길이와 문자셋 옵션으로 보안 비밀번호를 즉시 생성하고 강도를 확인하세요.',
    'password.length': '길이',
    'password.count': '생성 개수',
    'password.option.lower': '소문자 (a-z)',
    'password.option.upper': '대문자 (A-Z)',
    'password.option.numbers': '숫자 (0-9)',
    'password.option.symbols': '특수문자',
    'password.option.excludeAmbiguous': '헷갈리는 문자 제외 (0/O, l/1)',
    'password.generate': '생성',
    'password.output': '생성 결과',
    'password.strength.label': '강도: {level} ({bits} bits)',
    'password.strength.weak': '약함',
    'password.strength.fair': '보통',
    'password.strength.good': '좋음',
    'password.strength.strong': '강력',
    'password.strength.excellent': '매우 강력',
    'password.error.charset': '최소 1개 이상의 문자셋을 선택하세요.',
    'password.success.generated': '{count}개 비밀번호를 생성했습니다.',
    'regex.title': 'Regex Tester',
    'regex.description': '패턴과 플래그를 입력해서 매치 결과를 즉시 검증하세요.',
    'regex.pattern': '패턴',
    'regex.pattern.placeholder': '\\b\\w+@\\w+\\.\\w+\\b',
    'regex.flags': '플래그',
    'regex.input': '테스트 텍스트',
    'regex.test': '테스트',
    'regex.output': '하이라이트 결과',
    'regex.matches': '매치 목록',
    'regex.error.pattern': '정규식 패턴을 입력하세요.',
    'regex.error.invalid': '정규식 오류: {message}',
    'regex.result.none': '매치 결과가 없습니다.',
    'regex.result.count': '{count}개 매치를 찾았습니다.',
    'case.title': '텍스트 케이스 변환기',
    'case.description': 'camelCase, snake_case, kebab-case, PascalCase 변환.',
    'case.input': '입력 텍스트',
    'case.run': '변환',
    'case.error.empty': '텍스트를 입력하세요.',
    'case.success': '변환 완료.',
    'jsonyaml.title': 'JSON ↔ YAML 변환기',
    'jsonyaml.description': '운영 설정 파일 변환에 자주 쓰는 포맷 도구.',
    'jsonyaml.input': '입력',
    'jsonyaml.output': '출력',
    'jsonyaml.toYaml': 'JSON → YAML',
    'jsonyaml.toJson': 'YAML → JSON',
    'jsonyaml.success.toYaml': 'JSON → YAML 변환 완료.',
    'jsonyaml.success.toJson': 'YAML → JSON 변환 완료.',
    'jsonyaml.error': '변환 실패: {message}',
    'query.title': 'URL 쿼리 빌더',
    'query.description': '마케팅/디버깅 URL 파라미터 생성.',
    'query.base': 'Base URL',
    'query.add': '파라미터 추가',
    'query.build': 'URL 생성',
    'query.output': '결과 URL',
    'query.remove': '삭제',
    'query.success': 'URL 생성 완료.',
    'query.error.base': '기본 URL 형식이 잘못되었습니다.',
    'ipua.title': 'IP / User-Agent 확인',
    'ipua.description': '접속 정보 빠른 점검용.',
    'ipua.refresh': '새로고침',
    'ipua.lang': 'Language',
    'ipua.tz': 'Timezone',
    'ipua.platform': 'Platform',
    'ipua.success': '정보 갱신 완료.',
    'ipua.error.ip': 'IP 조회 실패(네트워크/CORS).',
    'textStats.title': '텍스트 통계',
    'textStats.description': '문자, 단어, 줄 수와 예상 읽기 시간을 계산합니다.',
    'textStats.input': '입력 텍스트',
    'textStats.run': '통계 계산',
    'textStats.sample': '샘플',
    'textStats.resultTitle': '통계 결과',
    'textStats.charsWithSpaces': '문자 수 (공백 포함)',
    'textStats.charsNoSpaces': '문자 수 (공백 제외)',
    'textStats.words': '단어 수',
    'textStats.lines': '행 수',
    'textStats.paragraphs': '문단 수',
    'textStats.sentences': '문장 수(간이)',
    'textStats.readingTime': '예상 읽기 시간',
    'textStats.bytes': '바이트',
    'textStats.uniqueWords': '고유 단어',
    'textStats.success': '통계 계산 완료.',
    'ipCidr.title': 'IP/CIDR 계산기',
    'ipCidr.description': 'IPv4 주소와 CIDR(예: 192.168.1.10/24)로 네트워크 정보를 계산합니다.',
    'ipCidr.ip': 'IPv4 주소',
    'ipCidr.prefix': 'CIDR 프리픽스',
    'ipCidr.calculate': '계산',
    'ipCidr.copy': 'CIDR 복사',
    'ipCidr.output': '결과',
    'ipCidr.network': '네트워크 주소',
    'ipCidr.broadcast': '브로드캐스트',
    'ipCidr.netmask': '넷마스크',
    'ipCidr.wildcard': '와일드카드',
    'ipCidr.usable': '사용 가능한 호스트',
    'ipCidr.class': '주소 분류',
    'ipCidr.firstHost': '최초 호스트',
    'ipCidr.lastHost': '최종 호스트',
    'ipCidr.total': '총 주소 수',
    'ipCidr.isNetwork': '입력 IP가 네트워크 주소',
    'ipCidr.isBroadcast': '입력 IP가 브로드캐스트 주소',
    'ipCidr.error.ip': '유효한 IPv4 주소를 입력하세요.',
    'ipCidr.error.prefix': '프리픽스는 0~32 사이여야 합니다.',
    'ipCidr.success': 'CIDR 계산이 완료되었습니다.',
    'qr.title': 'QR 생성기/스캐너',
    'qr.description': '텍스트 입력으로 QR 생성, 이미지 업로드로 QR 스캔.',
    'qr.input': '텍스트/URL',
    'qr.size': '크기(px)',
    'qr.generate': '생성',
    'qr.download': 'PNG 다운로드',
    'qr.scanFile': '이미지에서 스캔',
    'qr.scanOutput': '스캔 결과',
    'qr.error.empty': '텍스트를 입력하세요.',
    'qr.error.lib': 'QR 라이브러리를 불러오지 못했습니다.',
    'qr.error.generate': 'QR 생성에 실패했습니다.',
    'qr.success.generated': 'QR 코드를 생성했습니다.',
    'qr.error.unsupported': '이 브라우저는 QR 스캔을 지원하지 않습니다.',
    'qr.error.notFound': 'QR 코드를 찾지 못했습니다.',
    'qr.success.scanned': 'QR 스캔 완료.',
    'qr.error.scan': 'QR 스캔 처리 중 오류가 발생했습니다.',
    'diff.title': '텍스트 Diff',
    'diff.description': '라인 단위로 변경사항을 비교합니다.',
    'diff.left': '원본',
    'diff.right': '수정본',
    'diff.compare': '비교',
    'diff.result': '결과',
    'diff.unified': 'Unified Diff',
    'diff.result.changed': '변경 라인 {count}개',
    'diff.result.same': '차이가 없습니다.',
    'color.title': '색상 도구',
    'color.description': 'HEX/RGB/HSL 변환과 대비 비율 체크.',
    'color.pick': '색상 선택',
    'color.contrast': '대비 비율',
    'color.contrast.value': 'vs White: {white} / vs Black: {black}',
    'color.success': '색상 값 변환 완료.',
    'color.error.parse': '색상 파싱 오류',
    'markdown.title': 'Markdown 미리보기',
    'markdown.description': '문서 초안 작성과 HTML 확인용.',
    'markdown.input': 'Markdown',
    'markdown.render': '렌더',
    'markdown.preview': '미리보기',
    'markdown.error.lib': 'Markdown 라이브러리를 불러오지 못했습니다.',
    'markdown.success.render': '렌더링 완료.',
    'markdown.error.render': '렌더링 실패',
    'convert.title': '단위 변환기',
    'convert.description': '길이/무게/온도 변환.',
    'convert.category': '카테고리',
    'convert.category.length': '길이',
    'convert.category.weight': '무게',
    'convert.category.temp': '온도',
    'convert.input': '입력 값',
    'convert.from': 'From',
    'convert.to': 'To',
    'convert.swap': '교환',
    'convert.run': '변환',
    'convert.output': '결과',
    'convert.error.nan': '숫자를 입력하세요.',
    'convert.success': '변환 완료.',
    'filehash.title': '파일 해시 계산기',
    'filehash.description': '업로드 파일의 SHA 해시 계산.',
    'filehash.file': '파일',
    'filehash.algorithm': '알고리즘',
    'filehash.run': '계산',
    'filehash.error.file': '파일을 선택하세요.',
    'filehash.success': '{algorithm} 계산 완료 ({name})',
    'filehash.error.run': '해시 계산 실패',
    'imagebase64.title': '이미지 Base64 변환',
    'imagebase64.description': '이미지 ↔ data URL 변환.',
    'imagebase64.file': '이미지 파일',
    'imagebase64.encode': 'Base64 변환',
    'imagebase64.decode': '파일로 저장',
    'imagebase64.output': 'data URL',
    'imagebase64.error.file': '이미지를 선택하세요.',
    'imagebase64.success.encode': 'Base64 변환 완료.',
    'imagebase64.error.encode': '변환 실패',
    'imagebase64.error.format': '유효한 data URL 형식이 아닙니다.',
    'imagebase64.success.decode': '파일 저장 완료.',
    'uuidv7.title': 'UUID v7 생성기',
    'uuidv7.description': '시간순 정렬 가능한 UUID v7 생성.',
    'uuidv7.count': '생성 개수',
    'uuidv7.generate': '생성',
    'uuidv7.success.generated': 'UUID v7 {count}개 생성 완료.',
    'pdf.title': 'PDF 툴킷',
    'pdf.description': 'PDF 병합, 범위 분할, 워터마크, 메타데이터 조회, 텍스트 추출.',
    'pdf.mergeSection': '병합',
    'pdf.mergeDescription': '여러 PDF를 업로드 순서대로 병합합니다.',
    'pdf.mergeFiles': '병합할 PDF 파일',
    'pdf.singleSection': '단일 PDF 처리',
    'pdf.singleDescription': '하나의 파일로 분할, 워터마크, 메타데이터, 텍스트 추출을 처리합니다.',
    'pdf.file': 'PDF 파일',
    'pdf.mergeBtn': '병합',
    'pdf.splitBtn': '범위 추출',
    'pdf.watermarkBtn': '워터마크',
    'pdf.metadataBtn': '메타데이터 조회',
    'pdf.extractTextBtn': '텍스트 추출',
    'pdf.fromPage': '시작 페이지',
    'pdf.toPage': '종료 페이지',
    'pdf.watermarkText': '워터마크 텍스트',
    'pdf.dropHint': '여기로 파일을 끌어다 놓으세요.',
    'pdf.mergeDropHint': '또는 클릭해서 파일을 선택하세요.',
    'pdf.singleDropHint': '또는 클릭해서 파일을 선택하세요.',
    'pdf.fileNone': '선택된 파일이 없습니다.',
    'pdf.fileSummaryOne': '{name}',
    'pdf.fileSummaryMany': '{count}개 파일이 선택됨',
    'pdf.moreFiles': '외 {count}개 더',
    'pdf.fileSummaryHeader': '{count}개 파일',
    'pdf.fileSizeLabel': '총 {size}',
    'pdf.fileMeta': '{name} · {size}',
    'pdf.output': '결과',
    'pdf.downloadBtn': '다운로드',
    'pdf.page': '페이지',
    'pdf.emptyText': '(텍스트 없음)',
    'pdf.meta.filename': '파일명',
    'pdf.meta.size': '크기',
    'pdf.meta.pages': '페이지 수',
    'pdf.meta.encrypted': '암호화',
    'pdf.meta.title': '제목',
    'pdf.meta.author': '저자',
    'pdf.meta.subject': '주제',
    'pdf.meta.keywords': '키워드',
    'pdf.meta.creator': '생성자',
    'pdf.meta.producer': '제작자',
    'pdf.meta.created': '생성일',
    'pdf.meta.modified': '수정일',
    'pdf.meta.valueUnknown': '알 수 없음',
    'pdf.meta.valueNone': '미입력',
    'messages.pdf.needTwoFiles': '병합하려면 PDF 파일을 2개 이상 선택하세요.',
    'messages.pdf.requireOneFile': 'PDF 파일 1개를 먼저 선택하세요.',
    'messages.pdf.invalidRange': '시작 페이지는 종료 페이지보다 클 수 없습니다.',
    'messages.pdf.emptyWatermark': '워터마크 텍스트를 입력하세요.',
    'messages.pdf.mergeDone': 'PDF 병합 완료.',
    'messages.pdf.splitDone': '페이지 범위 추출 완료.',
    'messages.pdf.watermarkDone': '워터마크 적용 완료.',
    'messages.pdf.metadataDone': '메타데이터 조회 완료.',
    'messages.pdf.extractDone': '{from}~{to} 페이지 텍스트 추출 완료.',
    'messages.pdf.singleFileOnly': '단일 PDF 기능은 파일을 1개만 선택해야 합니다.',
    'messages.pdf.invalidFileType': 'PDF 파일이 아닌 파일은 제외했습니다. PDF만 업로드할 수 있습니다.',
    'messages.pdf.mergeSuccess': '{count}개 파일 병합 완료, 총 {pages}페이지',
    'messages.pdf.splitSummary': '{from}~{to} / 총 {total} 페이지',
    'messages.pdf.watermarkSummary': '{pages}페이지 적용',
    'messages.pdf.mergeError': 'PDF 병합 중 오류가 발생했습니다.',
    'messages.pdf.splitError': 'PDF 페이지 추출 중 오류가 발생했습니다.',
    'messages.pdf.watermarkError': '워터마크 적용 중 오류가 발생했습니다.',
    'messages.pdf.metadataError': 'PDF 메타데이터 조회 중 오류가 발생했습니다.',
    'messages.pdf.extractError': 'PDF 텍스트 추출 중 오류가 발생했습니다.',
  },
  en: {
    'common.languageLabel': 'Language',
    'common.languageKorean': '한국어',
    'common.languageEnglish': 'English',
    'common.copy': 'Copy',
    'common.copySuccess': 'Copied to clipboard.',
    'common.copyFail': 'Failed to copy. Check your browser permissions.',
    'common.clear': 'Clear',
    'common.sample': 'Sample',
    'common.back': '← Back to tools',
    'common.shareState': 'Copy shareable link',
    'common.snippetTitle': 'CLI · Code Snippet',
    'common.snippetSubtitle': 'Node.js · shell',
    'common.footerHome': '© 2025 stateless tools · Static site for Cloudflare Pages deployment',
    'common.footerBase64': '© 2025 stateless tools · All conversion stays inside your browser. No files/cookies sent.',
    'common.footerUuid': '© 2025 stateless tools · Static site for Cloudflare Pages deployment',
    'common.footerJson': '© 2025 stateless tools · JSON stays entirely in browser memory.',
    'common.yes': 'Yes',
    'common.no': 'No',
    'home.eyebrow': 'stateless dev tools',
    'home.title': 'Browser-Native Utility Suite',
    'home.description': 'Debug from a single tab instead of the terminal. Every transform runs in client memory.',
    'home.card.uuid.title': 'UUID Converter',
    'home.card.uuid.desc': 'Random UUIDs plus round-trip hex(binary16) conversion.',
    'home.card.base64.title': 'Base64 Encoder',
    'home.card.base64.desc': 'Text ↔ Base64 with URL-safe and whitespace cleanup options.',
    'home.card.json.title': 'JSON Viewer',
    'home.card.json.desc': 'Validate, format, minify, and copy JSON instantly in the browser.',
    'home.card.jwt.title': 'JWT Inspector',
    'home.card.jwt.desc': 'Inspect headers/payloads and expiry claims instantly.',
    'home.card.url.title': 'URL Encoder',
    'home.card.url.desc': 'Encode/decode strings and parse query params.',
    'home.card.hash.title': 'Hash Calculator',
    'home.card.hash.desc': 'Compute SHA hashes safely in your browser.',
    'home.card.cron.title': 'Cron Calculator',
    'home.card.cron.desc': 'Parse cron expressions and preview next execution times.',
    'timestamp.title': 'Unix Timestamp Converter',
    'timestamp.description': 'Convert between Unix timestamps and human-readable dates.',
    'timestamp.current.title': 'Current Time',
    'timestamp.current.unix': 'Unix Timestamp (Seconds)',
    'timestamp.current.iso': 'ISO 8601',
    'timestamp.current.stop': 'Stop Live Update',
    'timestamp.current.start': 'Start Live Update',
    'timestamp.convert.title': 'Converter',
    'timestamp.input.label': 'Unix Timestamp',
    'timestamp.input.current': 'Current',
    'timestamp.unit.seconds': 'Seconds',
    'timestamp.unit.millis': 'Milliseconds',
    'timestamp.output.local': 'Local Date',
    'timestamp.output.iso': 'ISO / UTC',
    'timestamp.output.relative': 'Relative',
    'timestamp.reverse.title': 'Date → Timestamp',
    'timestamp.reverse.button': 'Convert',
    'home.card.timestamp.title': 'Unix Timestamp',
    'home.card.timestamp.desc': 'Convert Unix timestamps to human-readable dates and vice versa.',
    'home.card.password.title': 'Password Generator',
    'home.card.password.desc': 'Generate secure passwords with flexible length and character options.',
    'home.card.regex.title': 'Regex Tester',
    'home.card.regex.desc': 'Test patterns and flags, then inspect highlighted matches.',
    'home.card.qr.title': 'QR Generator/Scanner',
    'home.card.qr.desc': 'Generate text/Wi-Fi QR and scan QR from image uploads.',
    'home.card.diff.title': 'Text Diff',
    'home.card.diff.desc': 'Compare original/edited lines with unified diff output.',
    'home.card.color.title': 'Color Tool',
    'home.card.color.desc': 'Convert HEX/RGB/HSL and check contrast ratio.',
    'home.card.markdown.title': 'Markdown Preview',
    'home.card.markdown.desc': 'Render Markdown and extract HTML.',
    'home.card.convert.title': 'Unit Converter',
    'home.card.convert.desc': 'Quick conversion for length/weight/temperature.',
    'home.card.filehash.title': 'File Hash Calculator',
    'home.card.filehash.desc': 'Compute SHA hashes in your browser.',
    'home.card.imagebase64.title': 'Image Base64 Converter',
    'home.card.imagebase64.desc': 'Convert image files to/from data URLs.',
    'home.card.uuidv7.title': 'UUID v7 Generator',
    'home.card.uuidv7.desc': 'Generate time-sortable UUID v7 values.',
    'home.card.case.title': 'Case Converter',
    'home.card.case.desc': 'Convert camel/snake/kebab/pascal cases.',
    'home.card.jsonyaml.title': 'JSON ↔ YAML',
    'home.card.jsonyaml.desc': 'Convert JSON↔YAML and CSV↔JSON.',
    'home.card.query.title': 'URL Query Builder',
    'home.card.query.desc': 'Build query strings with key/value rows.',
    'home.card.ipua.title': 'IP / User-Agent',
    'home.card.ipua.desc': 'Quick check for IP, UA, locale and timezone.',
    'home.card.textstats.title': 'Text Stats',
    'home.card.textstats.desc': 'Count characters, words, lines and estimate reading time.',
    'home.card.ipcidr.title': 'IP/CIDR Calculator',
    'home.card.ipcidr.desc': 'Calculate IPv4 network, broadcast and host range quickly.',
    'home.card.pdf.title': 'PDF Toolkit',
    'home.card.pdf.desc': 'Merge, split, watermark, inspect metadata, and extract text from PDFs.',
    'base64.title': 'Base64 Encoder',
    'base64.description': 'Hop between text and Base64 instantly with URL-safe/whitespace options.',
    'base64.encode.title': 'Text → Base64',
    'base64.encode.input': 'Text input',
    'base64.encode.placeholder': 'e.g. Hello, world',
    'base64.encode.urlSafe': 'URL-safe output',
    'base64.encode.button': 'Encode',
    'base64.encode.result': 'Base64 result',
    'base64.decode.title': 'Base64 → Text',
    'base64.decode.input': 'Base64 input',
    'base64.decode.placeholder': 'e.g. SGVsbG8sIHdvcmxkIQ==',
    'base64.decode.strip': 'Strip whitespace',
    'base64.decode.urlSafe': 'Restore URL-safe',
    'base64.decode.button': 'Decode',
    'base64.decode.result': 'Text result',
    'base64.file.title': 'File ↔ Base64',
    'base64.file.helper': 'Drop any file to convert it into Base64 immediately.',
    'base64.file.downloadPlaceholder': 'decoded.bin',
    'base64.file.downloadBtn': 'Export Base64 to file',
    'uuid.title': 'UUID Converter',
    'uuid.description': 'crypto.randomUUID() generation plus hex(binary16) round-trips.',
    'uuid.random.label': 'Random UUID',
    'uuid.random.button': 'Generate',
    'uuid.random.mode': 'Generation mode',
    'uuid.random.v4': 'UUID v4',
    'uuid.random.ulid': 'ULID (readable)',
    'uuid.toHex.title': 'UUID → Hex(binary16)',
    'uuid.toHex.input': 'UUID input',
    'uuid.toHex.placeholder': 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx',
    'uuid.toHex.button': 'Convert',
    'uuid.toHex.output': 'Hex output',
    'uuid.toUuid.title': 'Hex(binary16) → UUID',
    'uuid.toUuid.input': 'Hex input (32 chars)',
    'uuid.toUuid.placeholder': '32 hex characters',
    'uuid.toUuid.button': 'Restore',
    'uuid.toUuid.output': 'UUID output',
    'uuid.bulk.title': 'Bulk generation',
    'uuid.bulk.count': 'Count',
    'uuid.bulk.button': 'Generate',
    'json.title': 'JSON Viewer',
    'json.description': 'Audit JSON the way you inspect service configs—format, minify, and copy safely.',
    'json.input': 'JSON input',
    'json.placeholder': '{"hello":"world"}',
    'json.format': 'Format',
    'json.minify': 'Minify',
    'json.output': 'Output',
    'json.searchLabel': 'Search keys/values',
    'json.searchPlaceholder': 'user.id',
    'json.highlightTitle': 'Highlighted JSON',
    'json.treeTitle': 'Tree view',
    'json.treeCollapse': 'Collapse all',
    'json.treeNode.array': 'Array',
    'json.treeNode.object': 'Object',
    'json.meta.empty': 'No input',
    'messages.base64.encodeSuccess': 'Encoded text to Base64.',
    'messages.base64.encodeError': 'Failed to encode. Please check the input.',
    'messages.base64.decodeSuccess': 'Decoded Base64 back to text.',
    'messages.base64.decodeError': 'Failed to decode Base64. Please verify the value.',
    'messages.base64.fileEncoded': 'Converted {name} to Base64.',
    'messages.base64.fileDecoded': 'Exported Base64 as a file.',
    'messages.base64.fileError': 'File conversion failed.',
    'messages.uuid.randomGenerated': 'Generated a fresh UUID.',
    'messages.uuid.toHexSuccess': 'Converted UUID to hex(binary16).',
    'messages.uuid.toHexError': 'Invalid UUID format.',
    'messages.uuid.toUuidSuccess': 'Recovered UUID from hex(binary16).',
    'messages.uuid.toUuidError': 'Hex(binary16) must be a 32-character hex string.',
    'messages.uuid.bulkGenerated': 'Generated {count} identifiers.',
    'messages.json.empty': 'JSON input is empty.',
    'messages.json.pretty': 'Pretty-printed the JSON.',
    'messages.json.compact': 'Minified the JSON.',
    'messages.json.error': 'JSON parse failed: {message}',
    'messages.json.cleared': 'Reset the input.',
    'messages.json.sample': 'Loaded a sample JSON.',
    'json.meta.array': 'Array · {count} items',
    'json.meta.object': 'Object · {count} keys ({examples})',
    'json.meta.primitive': 'Primitive · {type}',
    'jwt.title': 'JWT Inspector',
    'jwt.description': 'Decode JWT headers/payloads, audit exp/nbf claims, and verify signatures with JWKS.',
    'jwt.input': 'JWT token',
    'jwt.placeholder': 'eyJhbGciOi...',
    'jwt.action.decode': 'Decode',
    'jwt.output.header': 'Header',
    'jwt.output.payload': 'Payload',
    'jwt.success': 'Decoded JWT successfully.',
    'jwt.error.empty': 'Please paste a JWT.',
    'jwt.error.format': 'Invalid JWT format.',
    'jwt.error.decode': 'Failed to decode JWT.',
    'jwt.meta.expires': 'expires: {date}',
    'jwt.meta.expired': 'expired: {date}',
    'jwt.meta.nbfActive': 'nbf passed: {date}',
    'jwt.meta.nbfPending': 'nbf pending: {date}',
    'cron.title': 'Cron Calculator',
    'cron.description': 'Parse cron expressions and preview next execution times.',
    'cron.input': 'Cron Expression',
    'cron.nextRuns': 'Next 5 Runs',
    'cron.empty': 'Enter a cron expression, e.g. */5 * * * *',
    'cron.error.invalid': 'Invalid cron expression.',
    'cron.error.details': 'Details: {message}',
    'url.title': 'URL Encoder',
    'url.description': 'Encode/decode per RFC3986 and inspect query parameters.',
    'url.input': 'Original string/URL',
    'url.placeholder': 'https://example.com?q=Hello',
    'url.encode': 'Encode',
    'url.decode': 'Decode',
    'url.output': 'Result',
    'url.outputHelper': 'Copy or inspect the parameter table.',
    'url.paramsTitle': 'Query parameters',
    'url.paramsEmpty': 'No parameters to display.',
    'url.success.encode': 'Encoded the value.',
    'url.success.decode': 'Decoded the value.',
    'url.error.empty': 'Enter a value first.',
    'url.error.encode': 'Encoding failed.',
    'url.error.decode': 'Decoding failed.',
    'hash.title': 'Hash Calculator',
    'hash.description': 'Compute SHA-1/256/384/512 hashes via WebCrypto.',
    'hash.input': 'Input text',
    'hash.placeholder': 'stateless tools',
    'hash.algorithm': 'Algorithm',
    'hash.uppercase': 'Uppercase HEX output',
    'hash.compute': 'Compute hash',
    'hash.hex': 'HEX',
    'hash.base64': 'Base64',
    'hash.error.empty': 'Input text is required.',
    'hash.error.unsupported': 'Unable to compute hash in this browser.',
    'hash.success': 'Generated {algorithm} hash.',
    'password.title': 'Password Generator',
    'password.description': 'Generate secure passwords instantly and inspect estimated entropy strength.',
    'password.length': 'Length',
    'password.count': 'Count',
    'password.option.lower': 'Lowercase (a-z)',
    'password.option.upper': 'Uppercase (A-Z)',
    'password.option.numbers': 'Numbers (0-9)',
    'password.option.symbols': 'Symbols',
    'password.option.excludeAmbiguous': 'Exclude ambiguous chars (0/O, l/1)',
    'password.generate': 'Generate',
    'password.output': 'Generated passwords',
    'password.strength.label': 'Strength: {level} ({bits} bits)',
    'password.strength.weak': 'Weak',
    'password.strength.fair': 'Fair',
    'password.strength.good': 'Good',
    'password.strength.strong': 'Strong',
    'password.strength.excellent': 'Excellent',
    'password.error.charset': 'Pick at least one character set.',
    'password.success.generated': 'Generated {count} passwords.',
    'regex.title': 'Regex Tester',
    'regex.description': 'Test regex patterns and flags instantly against your input text.',
    'regex.pattern': 'Pattern',
    'regex.pattern.placeholder': '\\b\\w+@\\w+\\.\\w+\\b',
    'regex.flags': 'Flags',
    'regex.input': 'Input text',
    'regex.test': 'Test',
    'regex.output': 'Highlighted output',
    'regex.matches': 'Match list',
    'regex.error.pattern': 'Enter a regex pattern.',
    'regex.error.invalid': 'Regex error: {message}',
    'regex.result.none': 'No matches found.',
    'regex.result.count': '{count} matches found.',
    'case.title': 'Case Converter',
    'case.description': 'Convert camelCase, snake_case, kebab-case and PascalCase.',
    'case.input': 'Input text',
    'case.run': 'Convert',
    'case.error.empty': 'Enter text first.',
    'case.success': 'Converted successfully.',
    'jsonyaml.title': 'JSON ↔ YAML Converter',
    'jsonyaml.description': 'Frequent format conversion tool for config files.',
    'jsonyaml.input': 'Input',
    'jsonyaml.output': 'Output',
    'jsonyaml.toYaml': 'JSON → YAML',
    'jsonyaml.toJson': 'YAML → JSON',
    'jsonyaml.success.toYaml': 'Converted JSON to YAML.',
    'jsonyaml.success.toJson': 'Converted YAML to JSON.',
    'jsonyaml.error': 'Conversion failed: {message}',
    'query.title': 'URL Query Builder',
    'query.description': 'Generate marketing/debug URLs with query params.',
    'query.base': 'Base URL',
    'query.add': 'Add parameter',
    'query.build': 'Build URL',
    'query.output': 'Output URL',
    'query.remove': 'Remove',
    'query.success': 'URL built successfully.',
    'query.error.base': 'Invalid base URL.',
    'ipua.title': 'IP / User-Agent Info',
    'ipua.description': 'Quick connectivity and environment check.',
    'ipua.refresh': 'Refresh',
    'ipua.lang': 'Language',
    'ipua.tz': 'Timezone',
    'ipua.platform': 'Platform',
    'ipua.success': 'Info refreshed.',
    'ipua.error.ip': 'Failed to fetch IP (network/CORS).',
    'textStats.title': 'Text Statistics',
    'textStats.description': 'Count characters, words, lines and estimate reading time.',
    'textStats.input': 'Input text',
    'textStats.run': 'Analyze',
    'textStats.sample': 'Sample',
    'textStats.resultTitle': 'Statistics',
    'textStats.charsWithSpaces': 'Characters (with spaces)',
    'textStats.charsNoSpaces': 'Characters (without spaces)',
    'textStats.words': 'Words',
    'textStats.lines': 'Lines',
    'textStats.paragraphs': 'Paragraphs',
    'textStats.sentences': 'Sentences (heuristic)',
    'textStats.readingTime': 'Estimated reading time',
    'textStats.bytes': 'Bytes',
    'textStats.uniqueWords': 'Unique words',
    'textStats.success': 'Text analysis complete.',
    'ipCidr.title': 'IP/CIDR Calculator',
    'ipCidr.description': 'Compute network details from IPv4 and CIDR (for example 192.168.1.10/24).',
    'ipCidr.ip': 'IPv4 Address',
    'ipCidr.prefix': 'CIDR Prefix',
    'ipCidr.calculate': 'Calculate',
    'ipCidr.copy': 'Copy CIDR',
    'ipCidr.output': 'Result',
    'ipCidr.network': 'Network',
    'ipCidr.broadcast': 'Broadcast',
    'ipCidr.netmask': 'Subnet mask',
    'ipCidr.wildcard': 'Wildcard mask',
    'ipCidr.usable': 'Usable hosts',
    'ipCidr.class': 'Address type',
    'ipCidr.firstHost': 'First host',
    'ipCidr.lastHost': 'Last host',
    'ipCidr.total': 'Total addresses',
    'ipCidr.isNetwork': 'Input IP is network address',
    'ipCidr.isBroadcast': 'Input IP is broadcast address',
    'ipCidr.error.ip': 'Enter a valid IPv4 address.',
    'ipCidr.error.prefix': 'Prefix must be between 0 and 32.',
    'ipCidr.success': 'CIDR calculation complete.',
    'qr.title': 'QR Generator/Scanner',
    'qr.description': 'Generate QR from text and scan QR from image uploads.',
    'qr.input': 'Text/URL',
    'qr.size': 'Size (px)',
    'qr.generate': 'Generate',
    'qr.download': 'Download PNG',
    'qr.scanFile': 'Scan from image',
    'qr.scanOutput': 'Scan result',
    'qr.error.empty': 'Enter text first.',
    'qr.error.lib': 'Failed to load QR library.',
    'qr.error.generate': 'Failed to generate QR code.',
    'qr.success.generated': 'QR code generated.',
    'qr.error.unsupported': 'This browser does not support QR scanning.',
    'qr.error.notFound': 'No QR code found.',
    'qr.success.scanned': 'QR scan completed.',
    'qr.error.scan': 'An error occurred while scanning QR.',
    'diff.title': 'Text Diff',
    'diff.description': 'Compare changes line by line.',
    'diff.left': 'Original',
    'diff.right': 'Modified',
    'diff.compare': 'Compare',
    'diff.result': 'Result',
    'diff.unified': 'Unified Diff',
    'diff.result.changed': '{count} changed lines',
    'diff.result.same': 'No differences found.',
    'color.title': 'Color Tool',
    'color.description': 'Convert HEX/RGB/HSL and check contrast ratio.',
    'color.pick': 'Pick color',
    'color.contrast': 'Contrast ratio',
    'color.contrast.value': 'vs White: {white} / vs Black: {black}',
    'color.success': 'Color values updated.',
    'color.error.parse': 'Failed to parse color.',
    'markdown.title': 'Markdown Preview',
    'markdown.description': 'Draft documents and inspect rendered HTML.',
    'markdown.input': 'Markdown',
    'markdown.render': 'Render',
    'markdown.preview': 'Preview',
    'markdown.error.lib': 'Failed to load Markdown library.',
    'markdown.success.render': 'Rendered successfully.',
    'markdown.error.render': 'Render failed.',
    'convert.title': 'Unit Converter',
    'convert.description': 'Length/weight/temperature conversion.',
    'convert.category': 'Category',
    'convert.category.length': 'Length',
    'convert.category.weight': 'Weight',
    'convert.category.temp': 'Temperature',
    'convert.input': 'Input value',
    'convert.from': 'From',
    'convert.to': 'To',
    'convert.swap': 'Swap',
    'convert.run': 'Convert',
    'convert.output': 'Output',
    'convert.error.nan': 'Enter a numeric value.',
    'convert.success': 'Conversion completed.',
    'filehash.title': 'File Hash Calculator',
    'filehash.description': 'Calculate SHA hashes for uploaded files.',
    'filehash.file': 'File',
    'filehash.algorithm': 'Algorithm',
    'filehash.run': 'Compute',
    'filehash.error.file': 'Select a file first.',
    'filehash.success': '{algorithm} computed ({name})',
    'filehash.error.run': 'Failed to compute hash.',
    'imagebase64.title': 'Image Base64 Converter',
    'imagebase64.description': 'Convert images to/from data URLs.',
    'imagebase64.file': 'Image file',
    'imagebase64.encode': 'Convert to Base64',
    'imagebase64.decode': 'Save as file',
    'imagebase64.output': 'Data URL',
    'imagebase64.error.file': 'Select an image first.',
    'imagebase64.success.encode': 'Converted to Base64.',
    'imagebase64.error.encode': 'Conversion failed.',
    'imagebase64.error.format': 'Invalid data URL format.',
    'imagebase64.success.decode': 'File saved.',
    'uuidv7.title': 'UUID v7 Generator',
    'uuidv7.description': 'Generate time-sortable UUID v7 values.',
    'uuidv7.count': 'Count',
    'uuidv7.generate': 'Generate',
    'uuidv7.success.generated': 'Generated {count} UUID v7 values.',
    'pdf.title': 'PDF Toolkit',
    'pdf.description': 'Merge, split, watermark, inspect metadata, and extract text from PDFs.',
    'pdf.mergeSection': 'Merge',
    'pdf.mergeDescription': 'Upload multiple PDFs and merge them in order.',
    'pdf.mergeFiles': 'PDFs to merge',
    'pdf.singleSection': 'Single PDF operations',
    'pdf.singleDescription': 'Run split, watermark, metadata, and text extraction on one PDF.',
    'pdf.file': 'PDF File',
    'pdf.mergeBtn': 'Merge',
    'pdf.splitBtn': 'Extract range',
    'pdf.watermarkBtn': 'Watermark',
    'pdf.metadataBtn': 'Metadata',
    'pdf.extractTextBtn': 'Extract text',
    'pdf.fromPage': 'From page',
    'pdf.toPage': 'To page',
    'pdf.watermarkText': 'Watermark text',
    'pdf.dropHint': 'Drop files here.',
    'pdf.mergeDropHint': 'Or click to choose files.',
    'pdf.singleDropHint': 'Or click to choose files.',
    'pdf.fileNone': 'No file selected.',
    'pdf.fileSummaryOne': '{name}',
    'pdf.fileSummaryMany': '{count} files selected',
    'pdf.moreFiles': 'and {count} more',
    'pdf.fileSummaryHeader': '{count} files',
    'pdf.fileSizeLabel': 'Total {size}',
    'pdf.fileMeta': '{name} · {size}',
    'pdf.output': 'Output',
    'pdf.downloadBtn': 'Download',
    'pdf.page': 'Page',
    'pdf.emptyText': '(No text)',
    'pdf.meta.filename': 'Filename',
    'pdf.meta.size': 'Size',
    'pdf.meta.pages': 'Page count',
    'pdf.meta.encrypted': 'Encrypted',
    'pdf.meta.title': 'Title',
    'pdf.meta.author': 'Author',
    'pdf.meta.subject': 'Subject',
    'pdf.meta.keywords': 'Keywords',
    'pdf.meta.creator': 'Creator',
    'pdf.meta.producer': 'Producer',
    'pdf.meta.created': 'Created',
    'pdf.meta.modified': 'Modified',
    'pdf.meta.valueUnknown': 'Unknown',
    'pdf.meta.valueNone': 'N/A',
    'messages.pdf.needTwoFiles': 'Select at least 2 PDF files to merge.',
    'messages.pdf.requireOneFile': 'Select one PDF file first.',
    'messages.pdf.invalidRange': 'The start page cannot be greater than the end page.',
    'messages.pdf.emptyWatermark': 'Enter watermark text.',
    'messages.pdf.mergeDone': 'PDF merge complete.',
    'messages.pdf.splitDone': 'Page range extraction complete.',
    'messages.pdf.watermarkDone': 'Watermark applied.',
    'messages.pdf.metadataDone': 'Metadata read complete.',
    'messages.pdf.extractDone': 'Extracted text from pages {from}~{to}.',
    'messages.pdf.singleFileOnly': 'Single-file PDF operations require only 1 file.',
    'messages.pdf.invalidFileType': 'Non-PDF files were ignored. Only PDF files are allowed.',
    'messages.pdf.mergeSuccess': 'Merged {count} files with a total of {pages} pages.',
    'messages.pdf.splitSummary': '{from}~{to} / total {total} pages.',
    'messages.pdf.watermarkSummary': 'Applied to {pages} pages.',
    'messages.pdf.mergeError': 'Failed to merge PDF files.',
    'messages.pdf.splitError': 'Failed to extract PDF range.',
    'messages.pdf.watermarkError': 'Failed to apply watermark.',
    'messages.pdf.metadataError': 'Failed to read PDF metadata.',
    'messages.pdf.extractError': 'Failed to extract PDF text.',
  },
};

const initialLocale = window.__preferredLocale || getInitialLocale();
let currentLocale = initialLocale;
const listeners = new Set();

function getInitialLocale() {
  const stored = safeStorage('get', 'stateless-tools-locale');
  if (stored && SUPPORTED_LOCALES.includes(stored)) {
    return stored;
  }
  const browser = navigator.language?.slice(0, 2);
  if (browser && SUPPORTED_LOCALES.includes(browser)) {
    return browser;
  }
  return 'ko';
}

function safeStorage(action, key, value) {
  try {
    if (action === 'set') {
      localStorage.setItem(key, value);
    } else if (action === 'get') {
      return localStorage.getItem(key);
    }
  } catch (err) {
    // ignore storage failures (private mode, etc)
  }
  return null;
}

function format(template, vars = {}) {
  return template.replace(/\{(\w+)\}/g, (match, name) => (vars[name] ?? match));
}

export function t(key, vars) {
  const dict = translations[currentLocale] || translations.ko;
  const template = dict[key];
  if (!template) return key;
  if (vars) {
    return format(template, vars);
  }
  return template;
}

function applyTranslations(root = document) {
  const elements = root.querySelectorAll('[data-i18n]');
  elements.forEach((el) => {
    const key = el.dataset.i18n;
    const attr = el.dataset.i18nAttr;
    const value = t(key);
    if (!value) return;
    if (attr) {
      el.setAttribute(attr, value);
    } else {
      el.textContent = value;
    }
  });
}

export function setLocale(locale, { root = document } = {}) {
  if (!SUPPORTED_LOCALES.includes(locale)) {
    locale = 'en';
  }
  if (currentLocale === locale) return;
  currentLocale = locale;
  safeStorage('set', 'stateless-tools-locale', locale);
  document.documentElement.setAttribute('lang', locale);
  applyTranslations(root);
  listeners.forEach((cb) => cb(locale));
}

export function initI18n({ root = document } = {}) {
  document.documentElement.setAttribute('lang', currentLocale);
  applyTranslations(root);
  document.documentElement.classList.remove('i18n-pending');
  return currentLocale;
}

export function bindLocaleSwitcher(selectEl, { root = document } = {}) {
  if (!selectEl) return;
  selectEl.value = currentLocale;
  selectEl.addEventListener('change', (event) => {
    setLocale(event.target.value, { root });
  });
  listeners.add((locale) => {
    selectEl.value = locale;
  });
}

export function onLocaleChange(handler) {
  listeners.add(handler);
  return () => listeners.delete(handler);
}
