import{t as a}from"./site-CaX0jgUv.js";const o={file:document.getElementById("ibFile"),encode:document.getElementById("ibEncodeBtn"),output:document.getElementById("ibOutput"),preview:document.getElementById("ibPreview"),decode:document.getElementById("ibDecodeBtn"),message:document.getElementById("ibMessage")};function r(t,e=!1){o.message.textContent=t,o.message.classList.toggle("message--error",e)}function m(t){return new Promise((e,c)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=c,n.readAsDataURL(t)})}async function g(){var e;const t=(e=o.file.files)==null?void 0:e[0];if(!t){r(a("imagebase64.error.file"),!0);return}try{const c=await m(t);o.output.value=c,o.preview.src=c,o.preview.hidden=!1,r(a("imagebase64.success.encode"))}catch{r(a("imagebase64.error.encode"),!0)}}function b(){const e=o.output.value.trim().match(/^data:(.+);base64,(.+)$/);if(!e){r(a("imagebase64.error.format"),!0);return}const c=e[1],n=atob(e[2]),i=new Uint8Array(n.length);for(let s=0;s<n.length;s+=1)i[s]=n.charCodeAt(s);const u=new Blob([i],{type:c}),l=URL.createObjectURL(u),d=document.createElement("a");d.href=l,d.download=`decoded.${(c.split("/")[1]||"bin").split(";")[0]}`,d.click(),URL.revokeObjectURL(l),r(a("imagebase64.success.decode"))}o.encode.addEventListener("click",g);o.decode.addEventListener("click",b);document.querySelectorAll("button[data-copy]").forEach(t=>{t.addEventListener("click",async()=>{const e=document.getElementById(t.dataset.copy);e&&(await navigator.clipboard.writeText(e.value||""),r(a("common.copySuccess")))})});
