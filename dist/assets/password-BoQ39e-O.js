import{t as s}from"./site-CkTLYdsb.js";const t={length:document.getElementById("pwLength"),lengthValue:document.getElementById("pwLengthValue"),count:document.getElementById("pwCount"),lower:document.getElementById("pwLower"),upper:document.getElementById("pwUpper"),numbers:document.getElementById("pwNumbers"),symbols:document.getElementById("pwSymbols"),excludeAmbiguous:document.getElementById("pwExcludeAmbiguous"),output:document.getElementById("pwOutput"),strength:document.getElementById("pwStrength"),message:document.getElementById("pwMessage"),generateBtn:document.getElementById("pwGenerateBtn"),clearBtn:document.getElementById("pwClearBtn")},l={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers:"0123456789",symbols:"!@#$%^&*()_+-=[]{}|;:,.<>?/~"},i=new Set(["0","O","o","1","l","I"]);function u(e,n=!1){t.message.textContent=e,t.message.classList.toggle("message--error",n)}function m(e){if(!Number.isInteger(e)||e<=0||e>4294967295)throw new RangeError("maxExclusive out of range");const n=Math.floor(4294967296/e)*e,r=new Uint32Array(1);for(;;){crypto.getRandomValues(r);const o=r[0];if(o<n)return o%e}}function p(){let e="";return t.lower.checked&&(e+=l.lower),t.upper.checked&&(e+=l.upper),t.numbers.checked&&(e+=l.numbers),t.symbols.checked&&(e+=l.symbols),t.excludeAmbiguous.checked&&(e=[...e].filter(n=>!i.has(n)).join("")),[...new Set(e.split(""))].join("")}function h(e,n){if(!e||!n)return{key:"password.strength.weak",bits:0};const r=Math.round(e*Math.log2(n));return r<40?{key:"password.strength.weak",bits:r}:r<60?{key:"password.strength.fair",bits:r}:r<80?{key:"password.strength.good",bits:r}:r<100?{key:"password.strength.strong",bits:r}:{key:"password.strength.excellent",bits:r}}function f(e,n){let r="";for(let o=0;o<e;o+=1){const c=m(n.length);r+=n[c]}return r}function d(){t.lengthValue.textContent=String(t.length.value)}function g(){const e=p(),n=Number(t.length.value||16),r=Math.min(Math.max(Number(t.count.value||5),1),20);if(!e.length){u(s("password.error.charset"),!0),t.output.value="",t.strength.textContent="";return}const o=[];for(let a=0;a<r;a+=1)o.push(f(n,e));t.output.value=o.join(`
`);const c=h(n,e.length);t.strength.textContent=s("password.strength.label",{level:s(c.key),bits:String(c.bits)}),u(s("password.success.generated",{count:String(r)}))}t.length.addEventListener("input",d);t.generateBtn.addEventListener("click",g);t.clearBtn.addEventListener("click",()=>{t.output.value="",t.strength.textContent="",u("")});document.querySelectorAll("button[data-copy]").forEach(e=>{e.addEventListener("click",async()=>{const n=document.getElementById(e.dataset.copy);if(n)try{await navigator.clipboard.writeText(n.value||n.textContent||""),u(s("common.copySuccess"))}catch{u(s("common.copyFail"),!0)}})});d();g();
