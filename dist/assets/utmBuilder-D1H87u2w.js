import"./site-CaX0jgUv.js";const t={base:document.getElementById("utmBase"),source:document.getElementById("utmSource"),medium:document.getElementById("utmMedium"),campaign:document.getElementById("utmCampaign"),term:document.getElementById("utmTerm"),content:document.getElementById("utmContent"),build:document.getElementById("utmBuildBtn"),url:document.getElementById("utmOutput"),short:document.getElementById("utmShortOutput"),message:document.getElementById("utmMessage")};function a(m,e=!1){t.message.textContent=m,t.message.classList.toggle("message--error",e)}async function s(m){const e=new TextEncoder().encode(m),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).slice(0,4).map(u=>u.toString(16).padStart(2,"0")).join("")}async function o(){try{const m=new URL(t.base.value.trim()),e=new URLSearchParams(m.search);t.source.value&&e.set("utm_source",t.source.value.trim()),t.medium.value&&e.set("utm_medium",t.medium.value.trim()),t.campaign.value&&e.set("utm_campaign",t.campaign.value.trim()),t.term.value&&e.set("utm_term",t.term.value.trim()),t.content.value&&e.set("utm_content",t.content.value.trim()),m.search=e.toString();const n=m.toString();t.url.value=n;const u=await s(n);t.short.value=`https://all-tools-site.pages.dev/go/${u}`,a("UTM URL 생성 완료.")}catch{a("기본 URL이 올바르지 않습니다.",!0)}}t.build.addEventListener("click",()=>o().catch(()=>a("생성 실패.",!0)));
