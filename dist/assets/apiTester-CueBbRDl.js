import"./site-CaX0jgUv.js";const s={method:document.getElementById("apiMethod"),url:document.getElementById("apiUrl"),headers:document.getElementById("apiHeaders"),body:document.getElementById("apiBody"),send:document.getElementById("apiSendBtn"),curl:document.getElementById("apiCurl"),output:document.getElementById("apiOutput"),message:document.getElementById("apiMessage")};function d(e,t=!1){s.message.textContent=e,s.message.classList.toggle("message--error",t)}function p(e){const t={};return e.split(/\r?\n/).forEach(a=>{const[n,...r]=a.split(":");!n||!r.length||(t[n.trim()]=r.join(":").trim())}),t}function g(e,t,a,n){const r=Object.entries(a).map(([u,c])=>`-H '${u}: ${c.replaceAll("'","'\\''")}'`).join(" "),o=n?`--data '${n.replaceAll("'","'\\''")}'`:"";return`curl -X ${e} ${r} ${o} '${t}'`.replace(/\s+/g," ").trim()}async function y(){const e=s.method.value,t=s.url.value.trim();if(!t){d("요청 URL을 입력하세요.",!0);return}const a=p(s.headers.value),n=s.body.value.trim();s.curl.value=g(e,t,a,n);const r={method:e,headers:a};e!=="GET"&&e!=="HEAD"&&n&&(r.body=n);const o=await fetch(t,r),u=await o.text();let c=u;try{c=JSON.stringify(JSON.parse(u),null,2)}catch{}const l=Array.from(o.headers.entries()).map(([i,m])=>`${i}: ${m}`).join(`
`);s.output.value=`HTTP ${o.status} ${o.statusText}

${l}

${c}`,d("API 요청 완료.")}s.send.addEventListener("click",()=>y().catch(e=>d(`요청 실패: ${e.message}`,!0)));
