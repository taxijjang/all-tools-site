import"./site-3xrs3AWN.js";const e={input:document.getElementById("csvInput"),output:document.getElementById("csvOutput"),toJson:document.getElementById("csvToJsonBtn"),toCsv:document.getElementById("csvToCsvBtn"),pretty:document.getElementById("csvPrettyBtn"),message:document.getElementById("csvMessage")};function s(t,n=!1){e.message.textContent=t,e.message.classList.toggle("message--error",n)}function a(t){const n=t.split(/\r?\n/).filter(Boolean);if(!n.length)return[];const r=n[0].split(",").map(o=>o.trim());return n.slice(1).map(o=>{const c=o.split(",").map(u=>u.trim()),l={};return r.forEach((u,i)=>{l[u]=c[i]??""}),l})}function p(t){if(!Array.isArray(t)||!t.length)return"";const n=Object.keys(t[0]),r=[n.join(",")];for(const o of t)r.push(n.map(c=>String(o[c]??"").replaceAll(","," ")).join(","));return r.join(`
`)}e.toJson.addEventListener("click",()=>{try{const t=a(e.input.value);e.output.value=JSON.stringify(t,null,2),s("CSV → JSON 변환 완료.")}catch{s("CSV 파싱 실패.",!0)}});e.toCsv.addEventListener("click",()=>{try{const t=JSON.parse(e.input.value);e.output.value=p(t),s("JSON → CSV 변환 완료.")}catch{s("JSON 파싱 실패.",!0)}});e.pretty.addEventListener("click",()=>{try{e.output.value=JSON.stringify(JSON.parse(e.input.value),null,2),s("JSON 포맷 완료.")}catch{s("JSON 포맷 실패.",!0)}});
