import"./site-CkTLYdsb.js";var he={exports:{}};(function(n){var o=function(s){var l=Object.prototype,m=l.hasOwnProperty,b=Object.defineProperty||function(t,e,r){t[e]=r.value},p,g=typeof Symbol=="function"?Symbol:{},O=g.iterator||"@@iterator",D=g.asyncIterator||"@@asyncIterator",_=g.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch{d=function(e,r,i){return e[r]=i}}function v(t,e,r,i){var a=e&&e.prototype instanceof F?e:F,f=Object.create(a.prototype),y=new H(i||[]);return b(f,"_invoke",{value:Q(t,r,y)}),f}s.wrap=v;function A(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(i){return{type:"throw",arg:i}}}var $="suspendedStart",P="suspendedYield",I="executing",w="completed",h={};function F(){}function G(){}function T(){}var z={};d(z,O,function(){return this});var Y=Object.getPrototypeOf,B=Y&&Y(Y(c([])));B&&B!==l&&m.call(B,O)&&(z=B);var R=T.prototype=F.prototype=Object.create(z);G.prototype=T,b(R,"constructor",{value:T,configurable:!0}),b(T,"constructor",{value:G,configurable:!0}),G.displayName=d(T,_,"GeneratorFunction");function U(t){["next","throw","return"].forEach(function(e){d(t,e,function(r){return this._invoke(e,r)})})}s.isGeneratorFunction=function(t){var e=typeof t=="function"&&t.constructor;return e?e===G||(e.displayName||e.name)==="GeneratorFunction":!1},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,d(t,_,"GeneratorFunction")),t.prototype=Object.create(R),t},s.awrap=function(t){return{__await:t}};function j(t,e){function r(f,y,L,S){var E=A(t[f],t,y);if(E.type==="throw")S(E.arg);else{var x=E.arg,J=x.value;return J&&typeof J=="object"&&m.call(J,"__await")?e.resolve(J.__await).then(function(M){r("next",M,L,S)},function(M){r("throw",M,L,S)}):e.resolve(J).then(function(M){x.value=M,L(x)},function(M){return r("throw",M,L,S)})}}var i;function a(f,y){function L(){return new e(function(S,E){r(f,y,S,E)})}return i=i?i.then(L,L):L()}b(this,"_invoke",{value:a})}U(j.prototype),d(j.prototype,D,function(){return this}),s.AsyncIterator=j,s.async=function(t,e,r,i,a){a===void 0&&(a=Promise);var f=new j(v(t,e,r,i),a);return s.isGeneratorFunction(e)?f:f.next().then(function(y){return y.done?y.value:f.next()})};function Q(t,e,r){var i=$;return function(f,y){if(i===I)throw new Error("Generator is already running");if(i===w){if(f==="throw")throw y;return u()}for(r.method=f,r.arg=y;;){var L=r.delegate;if(L){var S=q(L,r);if(S){if(S===h)continue;return S}}if(r.method==="next")r.sent=r._sent=r.arg;else if(r.method==="throw"){if(i===$)throw i=w,r.arg;r.dispatchException(r.arg)}else r.method==="return"&&r.abrupt("return",r.arg);i=I;var E=A(t,e,r);if(E.type==="normal"){if(i=r.done?w:P,E.arg===h)continue;return{value:E.arg,done:r.done}}else E.type==="throw"&&(i=w,r.method="throw",r.arg=E.arg)}}}function q(t,e){var r=e.method,i=t.iterator[r];if(i===p)return e.delegate=null,r==="throw"&&t.iterator.return&&(e.method="return",e.arg=p,q(t,e),e.method==="throw")||r!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=A(i,t.iterator,e.arg);if(a.type==="throw")return e.method="throw",e.arg=a.arg,e.delegate=null,h;var f=a.arg;if(!f)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h;if(f.done)e[t.resultName]=f.value,e.next=t.nextLoc,e.method!=="return"&&(e.method="next",e.arg=p);else return f;return e.delegate=null,h}U(R),d(R,_,"Generator"),d(R,O,function(){return this}),d(R,"toString",function(){return"[object Generator]"});function X(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function K(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function H(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(X,this),this.reset(!0)}s.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function a(){for(;r.length;){var f=r.pop();if(f in e)return a.value=f,a.done=!1,a}return a.done=!0,a}};function c(t){if(t){var e=t[O];if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length)){var r=-1,i=function a(){for(;++r<t.length;)if(m.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=p,a.done=!0,a};return i.next=i}}return{next:u}}s.values=c;function u(){return{value:p,done:!0}}return H.prototype={constructor:H,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(K),!t)for(var e in this)e.charAt(0)==="t"&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=p)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(S,E){return f.type="throw",f.arg=t,e.next=S,E&&(e.method="next",e.arg=p),!!E}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],f=a.completion;if(a.tryLoc==="root")return r("end");if(a.tryLoc<=this.prev){var y=m.call(a,"catchLoc"),L=m.call(a,"finallyLoc");if(y&&L){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(y){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(L){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&(t==="break"||t==="continue")&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return f.type=t,f.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(f)},complete:function(t,e){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),K(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if(i.type==="throw"){var a=i.arg;K(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:c(t),resultName:e,nextLoc:r},this.method==="next"&&(this.arg=p),h}},s}(n.exports);try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}})(he);var re=(n,o)=>`${n}-${o}-${Math.random().toString(16).slice(3,8)}`;const pe=re;let oe=0;var le=({id:n,action:o,payload:s={}})=>{let l=n;return typeof l>"u"&&(l=pe("Job",oe),oe+=1),{id:l,action:o,payload:s}},W={};let ne=!1;W.logging=ne;W.setLogging=n=>{ne=n};W.log=(...n)=>ne?console.log.apply(void 0,n):null;const ge=le,{log:V}=W,ve=re;let ae=0;var ye=()=>{const n=ve("Scheduler",ae),o={},s={};let l=[];ae+=1;const m=()=>l.length,b=()=>Object.keys(o).length,p=()=>{if(l.length!==0){const d=Object.keys(o);for(let v=0;v<d.length;v+=1)if(typeof s[d[v]]>"u"){l[0](o[d[v]]);break}}},g=(d,v)=>new Promise((A,$)=>{const P=ge({action:d,payload:v});l.push(async I=>{l.shift(),s[I.id]=P;try{A(await I[d].apply(void 0,[...v,P.id]))}catch(w){$(w)}finally{delete s[I.id],p()}}),V(`[${n}]: Add ${P.id} to JobQueue`),V(`[${n}]: JobQueue length=${l.length}`),p()});return{addWorker:d=>(o[d.id]=d,V(`[${n}]: Add ${d.id}`),V(`[${n}]: Number of workers=${b()}`),p(),d.id),addJob:async(d,...v)=>{if(b()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return g(d,v)},terminate:async()=>{Object.keys(o).forEach(async d=>{await o[d].terminate()}),l=[]},getQueueLen:m,getNumWorkers:b}};function me(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var we=n=>{const o={};return typeof WorkerGlobalScope<"u"?o.type="webworker":typeof document=="object"?o.type="browser":typeof process=="object"&&typeof me=="function"&&(o.type="node"),typeof n>"u"?o:o[n]};const Le=we("type")==="browser",Ee=Le?n=>new URL(n,window.location.href).href:n=>n;var Se=n=>{const o={...n};return["corePath","workerPath","langPath"].forEach(s=>{n[s]&&(o[s]=Ee(o[s]))}),o},ue={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Oe="7.0.0",be={version:Oe};var ke={workerBlobURL:!0,logger:()=>{}};const Ae=be.version,Te=ke;var Re={...Te,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Ae}/dist/worker.min.js`},_e=({workerPath:n,workerBlobURL:o})=>{let s;if(Blob&&URL&&o){const l=new Blob([`importScripts("${n}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(l))}else s=new Worker(n);return s},Ie=n=>{n.terminate()},Ne=(n,o)=>{n.onmessage=({data:s})=>{o(s)}},$e=async(n,o)=>{n.postMessage(o)};const ee=n=>new Promise((o,s)=>{const l=new FileReader;l.onload=()=>{o(l.result)},l.onerror=({target:{error:{code:m}}})=>{s(Error(`File could not be read! Code=${m}`))},l.readAsArrayBuffer(n)}),te=async n=>{let o=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?o=atob(n.split(",")[1]).split("").map(s=>s.charCodeAt(0)):o=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(o=await te(n.src)),n.tagName==="VIDEO"&&(o=await te(n.poster)),n.tagName==="CANVAS"&&await new Promise(s=>{n.toBlob(async l=>{o=await ee(l),s()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const s=await n.convertToBlob();o=await ee(s)}else(n instanceof File||n instanceof Blob)&&(o=await ee(n));return new Uint8Array(o)};var Pe=te;const Me=Re,Ce=_e,Ge=Ie,Be=Ne,Ue=$e,je=Pe;var We={defaultOptions:Me,spawnWorker:Ce,terminateWorker:Ge,onMessage:Be,send:Ue,loadImage:je};const De=Se,k=le,{log:ie}=W,Fe=re,C=ue,{defaultOptions:ze,spawnWorker:Ye,terminateWorker:Ke,onMessage:He,loadImage:se,send:Je}=We;let ce=0;var fe=async(n="eng",o=C.LSTM_ONLY,s={},l={})=>{const m=Fe("Worker",ce),{logger:b,errorHandler:p,...g}=De({...ze,...s}),O={},D=typeof n=="string"?n.split("+"):n;let _=o,d=l;const v=[C.DEFAULT,C.LSTM_ONLY].includes(o)&&!g.legacyCore;let A,$;const P=new Promise((c,u)=>{$=c,A=u}),I=c=>{A(c.message)};let w=Ye(g);w.onerror=I,ce+=1;const h=({id:c,action:u,payload:t})=>new Promise((e,r)=>{ie(`[${m}]: Start ${c}, action=${u}`);const i=`${u}-${c}`;O[i]={resolve:e,reject:r},Je(w,{workerId:m,jobId:c,action:u,payload:t})}),F=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),G=c=>h(k({id:c,action:"load",payload:{options:{lstmOnly:v,corePath:g.corePath,logging:g.logging}}})),T=(c,u,t)=>h(k({id:t,action:"FS",payload:{method:"writeFile",args:[c,u]}})),z=(c,u)=>h(k({id:u,action:"FS",payload:{method:"readFile",args:[c,{encoding:"utf8"}]}})),Y=(c,u)=>h(k({id:u,action:"FS",payload:{method:"unlink",args:[c]}})),B=(c,u,t)=>h(k({id:t,action:"FS",payload:{method:c,args:u}})),R=(c,u)=>h(k({id:u,action:"loadLanguage",payload:{langs:c,options:{langPath:g.langPath,dataPath:g.dataPath,cachePath:g.cachePath,cacheMethod:g.cacheMethod,gzip:g.gzip,lstmOnly:[C.DEFAULT,C.LSTM_ONLY].includes(_)&&!g.legacyLang}}})),U=(c,u,t,e)=>h(k({id:e,action:"initialize",payload:{langs:c,oem:u,config:t}})),j=(c="eng",u,t,e)=>{if(v&&[C.TESSERACT_ONLY,C.TESSERACT_LSTM_COMBINED].includes(u))throw Error("Legacy model requested but code missing.");const r=u||_;_=r;const i=t||d;d=i;const f=(typeof c=="string"?c.split("+"):c).filter(y=>!D.includes(y));return D.push(...f),f.length>0?R(f,e).then(()=>U(c,r,i,e)):U(c,r,i,e)},Q=(c={},u)=>h(k({id:u,action:"setParameters",payload:{params:c}})),q=async(c,u={},t={text:!0},e)=>h(k({id:e,action:"recognize",payload:{image:await se(c),options:u,output:t}})),X=async(c,u)=>{if(v)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return h(k({id:u,action:"detect",payload:{image:await se(c)}}))},K=async()=>(w!==null&&(Ke(w),w=null),Promise.resolve());He(w,({workerId:c,jobId:u,status:t,action:e,data:r})=>{const i=`${e}-${u}`;if(t==="resolve")ie(`[${c}]: Complete ${u}`),O[i].resolve({jobId:u,data:r}),delete O[i];else if(t==="reject")if(O[i].reject(r),delete O[i],e==="load"&&A(r),p)p(r);else throw Error(r);else t==="progress"&&b({...r,userJobId:u})});const H={id:m,worker:w,load:F,writeText:T,readText:z,removeFile:Y,FS:B,reinitialize:j,setParameters:Q,recognize:q,detect:X,terminate:K};return G().then(()=>R(n)).then(()=>U(n,o,l)).then(()=>$(H)).catch(()=>{}),P};const de=fe,qe=async(n,o,s)=>{const l=await de(o,1,s);return l.recognize(n).finally(async()=>{await l.terminate()})},Ve=async(n,o)=>{const s=await de("osd",0,o);return s.detect(n).finally(async()=>{await s.terminate()})};var Ze={recognize:qe,detect:Ve},Qe={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Xe={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const xe=ye,et=fe,tt=Ze,rt=Qe,nt=ue,ot=Xe,{setLogging:at}=W;var it={languages:rt,OEM:nt,PSM:ot,createScheduler:xe,createWorker:et,setLogging:at,...tt};const N={file:document.getElementById("ocrFile"),lang:document.getElementById("ocrLang"),run:document.getElementById("ocrRunBtn"),progress:document.getElementById("ocrProgress"),output:document.getElementById("ocrOutput"),message:document.getElementById("ocrMessage")};function Z(n,o=!1){N.message.textContent=n,N.message.classList.toggle("message--error",o)}async function st(){var s;const n=(s=N.file.files)==null?void 0:s[0];if(!n){Z("OCR 처리할 이미지를 선택하세요.",!0);return}N.progress.value=0,Z("OCR 엔진 로딩 중...");const o=await it.createWorker(N.lang.value,1,{logger:l=>{l.status==="recognizing text"&&l.progress&&(N.progress.value=Math.round(l.progress*100))}});try{const{data:l}=await o.recognize(n);N.output.value=l.text.trim(),Z("OCR 완료.")}finally{await o.terminate()}}N.run.addEventListener("click",()=>st().catch(()=>Z("OCR 실패.",!0)));
