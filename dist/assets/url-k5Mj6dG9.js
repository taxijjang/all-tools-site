import{t as n}from"./site-CkTLYdsb.js";const s=document.getElementById("urlInput"),l=document.getElementById("urlOutput"),a=document.getElementById("urlParams"),E=document.getElementById("urlMessage");function c(e,t=!1){E.textContent=e,E.classList.toggle("message--error",t)}function g(e){a.innerHTML="";const t=document.createElement("table");t.className="param-table__inner";const o=document.createElement("tbody");let u="";try{u=new URL(e).search}catch{const r=e.includes("=")?e:"";u=r.startsWith("?")?r:`?${r}`}const m=new URLSearchParams(u);if([...m].length===0){a.textContent=n("url.paramsEmpty");return}m.forEach((d,r)=>{const i=document.createElement("tr"),p=document.createElement("td");p.textContent=r;const y=document.createElement("td");y.textContent=d,i.append(p,y),o.appendChild(i)}),t.appendChild(o),a.appendChild(t)}function h(){try{const e=s.value;if(!e){c(n("url.error.empty"),!0);return}const t=encodeURIComponent(e);l.value=t,g(e),c(n("url.success.encode"))}catch{c(n("url.error.encode"),!0)}}function v(){try{const e=s.value||l.value;if(!e){c(n("url.error.empty"),!0);return}const t=decodeURIComponent(e.replace(/\+/g," "));l.value=t,g(t),c(n("url.success.decode"))}catch{c(n("url.error.decode"),!0)}}document.getElementById("urlEncodeBtn").addEventListener("click",h);document.getElementById("urlDecodeBtn").addEventListener("click",v);document.getElementById("urlClearBtn").addEventListener("click",()=>{s.value="",l.value="",a.textContent="",c("")});document.querySelectorAll("button[data-copy]").forEach(e=>{e.addEventListener("click",()=>{const t=document.getElementById(e.dataset.copy);if(!t)return;const o=t.value||t.textContent||"";navigator.clipboard.writeText(o).then(()=>c(n("common.copySuccess"))).catch(()=>c(n("common.copyFail"),!0))})});
