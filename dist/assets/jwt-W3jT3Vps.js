import{t as n}from"./site-3xrs3AWN.js";const l=document.getElementById("jwtInput"),I=document.getElementById("jwtHeader"),g=document.getElementById("jwtPayload"),m=document.getElementById("jwtMessage"),i=document.getElementById("jwtMeta");function a(t,e=!1){m.textContent=t,m.classList.toggle("message--error",e)}function u(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),o=(4-e.length%4)%4,r=e+"=".repeat(o),s=atob(r);let d="";for(let c=0;c<s.length;c+=1)d+=`%${`00${s.charCodeAt(c).toString(16)}`.slice(-2)}`;return decodeURIComponent(d)}function p(t){return JSON.stringify(t,null,2)}function y(t){if(!t){i.textContent="";return}const e=Math.floor(Date.now()/1e3),o=t.exp,r=t.nbf,s=[];if(typeof o=="number"){const d=o<e,c=new Date(o*1e3).toISOString();s.push(d?n("jwt.meta.expired",{date:c}):n("jwt.meta.expires",{date:c}))}if(typeof r=="number"){const d=r<=e,c=new Date(r*1e3).toISOString();s.push(d?n("jwt.meta.nbfActive",{date:c}):n("jwt.meta.nbfPending",{date:c}))}i.textContent=s.join(" Â· ")}function w(){try{const t=l.value.trim();if(!t){a(n("jwt.error.empty"),!0);return}const e=t.split(".");if(e.length<2){a(n("jwt.error.format"),!0);return}const o=JSON.parse(u(e[0])),r=JSON.parse(u(e[1]));I.textContent=p(o),g.textContent=p(r),y(r),a(n("jwt.success"))}catch{a(n("jwt.error.decode"),!0)}}document.getElementById("decodeJwtBtn").addEventListener("click",w);document.getElementById("jwtClearBtn").addEventListener("click",()=>{l.value="",I.textContent="",g.textContent="",i.textContent="",a("")});document.getElementById("jwtSampleBtn").addEventListener("click",()=>{const t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkRldlVzZXIiLCJpYXQiOjE1MTYyMzkwMjIsImV4cCI6MjUxNjIzOTAyMn0.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ";l.value=t,w()});document.querySelectorAll("button[data-copy]").forEach(t=>{t.addEventListener("click",()=>{const e=document.getElementById(t.dataset.copy);if(!e)return;const o=e.value||e.textContent||"";navigator.clipboard.writeText(o).then(()=>a(n("common.copySuccess"))).catch(()=>a(n("common.copyFail"),!0))})});
