import"./site-C_lPCQRL.js";const n={file:document.getElementById("ibFile"),encode:document.getElementById("ibEncodeBtn"),output:document.getElementById("ibOutput"),preview:document.getElementById("ibPreview"),decode:document.getElementById("ibDecodeBtn"),message:document.getElementById("ibMessage")};function c(t,e=!1){n.message.textContent=t,n.message.classList.toggle("message--error",e)}function u(t){return new Promise((e,a)=>{const o=new FileReader;o.onload=()=>e(o.result),o.onerror=a,o.readAsDataURL(t)})}async function m(){var e;const t=(e=n.file.files)==null?void 0:e[0];if(!t){c("이미지를 선택하세요.",!0);return}try{const a=await u(t);n.output.value=a,n.preview.src=a,n.preview.hidden=!1,c("Base64 변환 완료.")}catch{c("변환 실패",!0)}}function g(){const e=n.output.value.trim().match(/^data:(.+);base64,(.+)$/);if(!e){c("유효한 data URL 형식이 아닙니다.",!0);return}const a=e[1],o=atob(e[2]),i=new Uint8Array(o.length);for(let r=0;r<o.length;r+=1)i[r]=o.charCodeAt(r);const l=new Blob([i],{type:a}),s=URL.createObjectURL(l),d=document.createElement("a");d.href=s,d.download=`decoded.${(a.split("/")[1]||"bin").split(";")[0]}`,d.click(),URL.revokeObjectURL(s),c("파일 저장 완료.")}n.encode.addEventListener("click",m);n.decode.addEventListener("click",g);document.querySelectorAll("button[data-copy]").forEach(t=>{t.addEventListener("click",async()=>{const e=document.getElementById(t.dataset.copy);e&&(await navigator.clipboard.writeText(e.value||""),c("복사했습니다."))})});
