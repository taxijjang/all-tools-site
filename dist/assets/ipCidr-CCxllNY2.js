import{t as m}from"./site-CkTLYdsb.js";const n={ip:document.getElementById("icIp"),prefix:document.getElementById("icPrefix"),calcBtn:document.getElementById("icCalcBtn"),output:document.getElementById("icCidrOutput"),network:document.getElementById("icNetwork"),broadcast:document.getElementById("icBroadcast"),netmask:document.getElementById("icNetmask"),wildcard:document.getElementById("icWildcard"),usable:document.getElementById("icUsable"),netClass:document.getElementById("ipCidrClass"),first:document.getElementById("icFirst"),last:document.getElementById("icLast"),total:document.getElementById("icTotal"),networkFlag:document.getElementById("icNetworkFlag"),broadcastFlag:document.getElementById("icBroadcastFlag"),message:document.getElementById("icMessage")},p=2n**32n;function l(t,e=!1){n.message.textContent=t,n.message.classList.toggle("message--error",e)}function B(t){const e=t.trim().split(".");if(e.length!==4)return null;const r=e.map(i=>{if(!/^(\d{1,3})$/.test(i))return null;const s=Number(i);return!Number.isInteger(s)||s<0||s>255?null:s});return r.some(i=>i==null)?null:r}function b(t){return BigInt(t[0])<<24n|BigInt(t[1])<<16n|BigInt(t[2])<<8n|BigInt(t[3])}function o(t){const e=t&0xFFFFFFFFn,r=Number(e>>24n&255n),i=Number(e>>16n&255n),s=Number(e>>8n&255n),c=Number(e&255n);return`${r}.${i}.${s}.${c}`}function v(t,e){const[r,i]=t;return r===10?"Private (10/8)":r===172&&i>=16&&i<=31?"Private (172.16/12)":r===192&&i===168?"Private (192.168/16)":r===127?"Loopback":r===169&&i===254?"Link-Local":r>=224&&r<=239?"Multicast":r>=240?"Reserved":"Public"}function y(t){return v(t)}function g(){l("");const t=B(n.ip.value),e=Number(n.prefix.value);if(!t){l(m("ipCidr.error.ip"),!0);return}if(!Number.isInteger(e)||e<0||e>32){l(m("ipCidr.error.prefix"),!0);return}const r=b(t),i=e===0?0n:p-1n<<BigInt(32-e)&0xFFFFFFFFn,s=~i&0xFFFFFFFFn,c=r&i,d=2n**BigInt(32-e),u=c+d-1n,f=d.toString();let a;e===32?a="1":e===31?a="2":a=(d-2n).toString();const F=e===32?c:c+1n,I=e===32?c:e===31?u:u-1n;n.output.value=`${o(c)}/${e}`,n.network.value=o(c),n.broadcast.value=o(u),n.netmask.value=o(i),n.wildcard.value=o(s),n.usable.value=a,n.netClass.value=y(t),n.first.value=o(F),n.last.value=o(I),n.total.value=f,n.networkFlag.checked=r===c,n.broadcastFlag.checked=e!==32&&r===u,l(m("ipCidr.success"))}n.calcBtn.addEventListener("click",g);[n.ip,n.prefix].forEach(t=>t.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),g())}));g();
